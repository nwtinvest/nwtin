define(["helpers","yashare"],function(t){return{init:function(){function e(e){var i,s=this,n=!1,o=!1,r=".ya-share2__item",e={url:e.url||location.href,title:e.title||document.title,description:e.description,services:e.services||"vkontakte,facebook,twitter,telegram",counter:e.counter||!1,lang:e.lang||"ru",limit:e.limit||10,size:e.size||"m",bare:e.bare||!1,"class":e["class"]||"blog-share",button:e.button||$(".blog-share__button"),text:e.text||button.siblings(".blog-share__text"),list:e.list||button.siblings(".blog-share__list"),direction:e.direction||"right"};e.button.on("click",function(){o?s.hide():s.show()}),t.isDesktop()&&e.button.parent().hover(function(t){clearTimeout(i),o||s.show()},function(t){i=setTimeout(function(){s.hide()},1e3)}),this.hide=function(){e.button.parent().removeClass(e["class"]+"--active"),e.text.show(),o=!1},this.show=function(){e.button.parent().addClass(e["class"]+"--active"),e.text.hide(),n||s.create(),"left"==e.direction?e.list.find(r).reverse().each(function(t){s.animated(this,"show",t)}):e.list.find(r).each(function(t){s.animated(this,"show",t)}),n=!0,o=!0},this.animated=function(t,e,i){$(t).css("opacity",0).stop().animate({opacity:1},200*i)},this.create=function(){new Ya.share2(e.list[0],{content:{url:e.url,title:e.title,description:e.description},theme:{services:e.services,counter:e.counter,lang:e.lang,limit:e.limit,size:e.size,bare:e.bare}})}}$.fn.reverse=[].reverse,$(".blog-share__button").each(function(t,i){new e({"class":"blog-share",button:$(this),list:$(this).siblings(".blog-share__list"),text:$(this).siblings(".blog-share__text"),url:location.href,title:document.title,description:!1,direction:$(this).parent().hasClass("blog-share--left")?"left":"right"})})}}});