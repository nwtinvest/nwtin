define(["config","numeral","tradeview"],function(a,t,e){return{apply:function(r){e.init();var i=$(r);if(i.length){var n=$('[data-role="usd"]',i),o=$('[data-role="euro"]',i),d=$('[data-role="barrel"]',i);i.on("init update",function(){$.ajax({url:a.getQuotesUrl,success:function(a){e.update(a),a=a.message;for(var r in a)switch(a[r].name){case"USDRUR":var i=parseFloat(a[r].bid,10).toFixed(2);n.text(t(i).afFormat()).attr("data-value",a[r].bid);break;case"EURRUR":var u=parseFloat(a[r].bid,10).toFixed(2);o.text(t(u).afFormat()).attr("data-value",a[r].bid);break;case"LCO":var l=parseFloat(a[r].bid,10).toFixed(2);d.text(t(l).afFormat()).attr("data-value",a[r].bid)}},error:function(a){},complete:function(){}})}).triggerHandler("init");setInterval(function(){i.triggerHandler("update")},3e3)}}}});